all:
  hosts:
    friclu-1:
#      ansible_host: 192.168.0.21
      ansible_host: 10.7.0.2
      restic:
        version: 0.17.3
        aws_access_key_id: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38393261393963646639393234643265623166613363333564613036363863383932663436303734
          3836646163353038326139323831666163326233383738320a633165626637666539616439636236
          33353937383630386430616333663762376366366432363035623931306261626236616634333630
          6461336464666232380a376466323163616537343938373232363030386632666137346330373765
          38343734663965346232353635656239363162653133613932663166303966366466633062626532
          34633036343639376661633962336436633736663566383265386339613361353839323730653964
          33626465396539616562363237623537393639656130626335613364306162663735383862633139
          37666637316231393962303762323165346139653533333931623536336365333133306232326434
          6232
        aws_secret_access_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36323333366666326465643363653864623738633062376163366636383962323533326230633332
          6630386131333834343164376132383034646232343866320a356463643633333735316536353434
          38343331363165383030646232376162393263623162623938343838636433313434653331343963
          3366356161363831620a653361323338666532383562326637386365303164326235643730363831
          32643864653537383765623538663364353133343632373336656237393563356238313138646164
          33333835633865643537343463343733353165353930303166646363323739616164653765616639
          39336530316432653233636464373330356632656265373334393930633634373763343231353930
          32326261643131373739
        s3_url: s3.eu-central-3.ionoscloud.com
        password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35653533343361626562343639366264633265333163363635373261313930623863633963663861
          3561363031336534336338383536623834643730626363620a363961353237376631366638313138
          62626565616433343733326532626132363439303330303230333363326138646432633433306634
          6663313661613538380a656235353734333635656431326263313433636339656439396531313632
          6433
      ansible_user: root
      ansible_ssh_private_key_file: /root/.ssh/id_rsa
      backups:
        - name: friclu-vault
          path: /volumes/vault
          hour: 18
        - name: friclu-immich
          path: /volumes/immich
          hour: 19
          pg_backup: true
          pg_host: immich-rw.immich
          pg_user: "immich"
          pg_db: "immich"
          pg_password: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            64393635393131646630333331646433613764333964333566333234376438336463363339303231
            3664346638373766636464633565383139656661306335350a383634363163626665333262636264
            64303663366133613336653161373339616161653938663833636138303565376232633463303131
            3930303438396565370a336435346538353565346133366562316565346133643339306531656663
            63383930376633646664656231343131623563363631373361643738366538376165356362323261
            64643632613861343562663934313865653064663164343633656439323734323136653234336630
            64613539656265663633626363663061323235363966326665633561326362383531643761393632
            32633264663238333263
        - name: friclu-syncthing
          path: /volumes/syncthing
          hour: 20
        - name: friclu-linkding
          path: /volumes/linkding
          hour: 21
        - name: friclu-n8n
          path: /volumes/n8n
          hour: 22
          pg_backup: true
          pg_host: n8n-rw.n8n
          pg_user: "app"
          pg_db: "n8n"
          pg_password: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            31653432636636313963303337646132313237636564396565666562373764633062393531366630
            6262623239663930353062393032633835343532326461340a366366396234623139643566376635
            66356461623464626134623261376538616262643737356534663866613434633032343463376361
            3661366534333639660a373564323135306337306634386136323364386639363664326231633532
            39653062386632666162386232386438653866643861313565393366383265373532373563326464
            39343731646364376166303837383031313565336433653733346561363339313439653864646236
            62646631373831306665613830396138303737393136306265656231643538336133663933303564
            38616465323030663935
        - name: friclu-keycloak
          path: /volumes/keycloak
          hour: 23
          pg_backup: true
          pg_host: keycloak-rw.keycloak
          pg_user: "app"
          pg_password: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            39363962643165373230303536656466366362353630666666366465396230363563303164613565
            3336646366633135363735323433383134636564303438620a356234633831306365303765613339
            64393431663137626563643832323631363035333765663064663835363264326530643664366132
            3963646564333435650a333436666231613264303938323162303132616266383366646137333863
            34313363343931353439373339633636633835666639623039666430656166373861666462626631
            31663462306336643065353230626266653465383039316130366466653261366264323066643861
            38306536316337636436366432363262633463363632313039313239383437616561623238343638
            61653465373530383632
      wg_address: 10.7.0.2/32
      peers:
        - pub_key: O4LXdtqmhhQ5L8/WWt9ag70LKgQDr1bXob+teWQW1lE=
          allowed_ips: 10.7.0.0/24
          endpoint: 212.227.63.239
    friclu-2:
#      ansible_host: 192.168.0.23
      ansible_host: 10.7.0.3
      ansible_user: root
      ansible_ssh_private_key_file: /root/.ssh/id_rsa
      wg_address: 10.7.0.3/32
      peers:
        - pub_key: O4LXdtqmhhQ5L8/WWt9ag70LKgQDr1bXob+teWQW1lE=
          allowed_ips: 10.7.0.0/24
          endpoint: 212.227.63.239
    friclu-3:
#      ansible_host: 192.168.0.19
      ansible_host: 10.7.0.6
      ansible_user: root
      ansible_ssh_private_key_file: /root/.ssh/id_rsa
      wg_address: 10.7.0.6/32
      peers:
        - pub_key: O4LXdtqmhhQ5L8/WWt9ag70LKgQDr1bXob+teWQW1lE=
          allowed_ips: 10.7.0.0/24
          endpoint: 212.227.63.239
  vars:
    ansible_ssh_common_args: "-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null"

kube_control_plane:
  hosts:
    friclu-1:

etcd:
  hosts:
    friclu-1:

kube_node:
  hosts:
    friclu-1:
    friclu-2:
    friclu-3:

calico_rr:
  hosts: {}

k8s_cluster:
  children:
    kube_control_plane:
    kube_node:
